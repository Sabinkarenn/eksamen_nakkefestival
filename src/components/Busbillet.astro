---

/**
 * Billettyperne er defineret her som et array af objekter.
 * Hver billet har et id, navn, evt. dato og pris.
 */
 const tickets = [
  { id: 'Bus KBH-Nakke 23/7', name: 'Bus KBH-Nakke 23/7', date: 'Afgang kl. 12 fra DGI byen ' },
  { id: 'Bus Nakke-KBH 26/7', name: 'Bus Nakke-KBH 26/7', date: 'Afgang kl. 14',  },
  
];
---

<!-- Ydre container for hele billettilvalg-komponenten -->
<div class=" bg-pink mb-15 max-w-md mx-auto p-4 border-2 border-darkblue rounded-lg ">

  <!-- Overskrift og info-tekst -->
  <h2 class="text-lg font-bold mb-2">Pssst... tilkøb busbillet her</h2>
  <p class="text-sm mb-7">
    170 kr. pr billet
  </p>

  <!-- Vi looper igennem hver billet og viser dem én for én -->
  {tickets.map(ticket => (
    <div class="border-t-2  py-9 flex items-center justify-between" id={ticket.id}>

      <!-- Venstre side: navn, dato og pris -->
      <div>
        <p class="font-bold  leading-tight">{ticket.name}</p>
        {ticket.date && <p class="text-sm ">{ticket.date}</p>}
      </div>

      <!-- Højre side: minusknap, tæller og plusknap -->
      <div class="flex items-center gap-2">
        <!-- Minus-knap -->
        <button 
          class="bg-yellow-400 w-8 h-8 rounded-full text-[#00106b] font-bold"
          onClick={`decrement('${ticket.id}')`}
        >−</button>

        <!-- Visning af nuværende antal -->
        <span id={`count-${ticket.id}`} class="w-4 text-center">0</span>

        <!-- Plus-knap -->
        <button 
          class="bg-yellow-400 w-8 h-8 rounded-full text-[#00106b] font-bold"
          onClick={`increment('${ticket.id}')`}
        >+</button>
      </div>

      
    </div>
  ))}

 

<!-- Inline JavaScript til at håndtere tællerne -->
<script type="module" is:inline>
  // Objekt til at holde styr på antallet af billetter pr. type
  const counts = {};

  // Opdaterer visningen af antallet for en bestemt billettype
  function updateDisplay(id) {
    document.getElementById(`count-${id}`).textContent = counts[id] || 0;
  }

  // Funktion til at tælle op
  window.increment = (id) => {
    counts[id] = (counts[id] || 0) + 1;
    updateDisplay(id);
  }

  // Funktion til at tælle ned (men ikke under 0)
  window.decrement = (id) => {
    if (counts[id] > 0) counts[id] -= 1;
    updateDisplay(id);
  }
</script>
