---
import MainLayout from "../layouts/MainLayout.astro";
import Button from "../components/Button.astro";
import Heading from "./Heading.astro";
---

<section class="flex items-center justify-center min-h-screen">
  <div class="">
    <div class="text-center">
      <Heading htmlheading="h3" size="medium">Tilmeld dig her</Heading>
    </div>
    <p class="text-center md:w-[60ch]">
      Skriv lidt om dig selv og hvorfor du gerne vil være frivillig, så
      kontakter vi dig og finder den bedste frivillig mulighed for dig!
    </p>
    <div class="max-w-md mx-auto">
      <div class="formstart">
        <!-- navn sektion start -->
        <section class="">
          <div class="">
            <label class="">
              <span class="">Dit navn</span><br />
              <input
                type="text"
                class="border-2 border-darkblue rounded-lg focus:border-orange focus:ring focus:ring-brightorange focus:ring-opacity-50"
                placeholder="Navn"
              />
            </label>
          </div>
        </section>
        <!-- navn sektion slut -->

        <!-- email sektion start -->
        <section>
          <div>
            <label class="">
              <span class="mb-2">Din email</span><br />
              <input
                type="email"
                class="w-full rounded-lg border-2 border-darkblue focus:border-orange focus:ring focus:ring-brightorange focus:ring-opacity-50"
                placeholder="Email"
              />
            </label>
          </div>
        </section>
        <!-- email sektion slut -->

        <!-- udfyld sektion start -->
        <section>
          <div>
            <label class="">
              <span class="mb-2">Udfyldningsblanket</span><br />
              <textarea
                class="w-full rounded-lg border-2 border-darkblue focus:border-orange focus:ring focus:ring-brightorange focus:ring-opacity-50"
                placeholder="Jeg onsker at blive frivillig fordi..."
                rows="8"></textarea>
            </label>
          </div>
        </section>
        <!-- udfyld sektion slut -->

        <!-- har du været på nakke før start -->
        <form>
          <input type="radio" id="html" name="fav_language" value="HTML" />
          <label for="html" class="text-darkblue"
            >Ja, jeg har været på Nakkefestival før</label
          ><br />
          <input type="radio" id="css" name="fav_language" value="CSS" />
          <label for="css" class="text-darkblue"
            >Nej, det bliver min første</label
          ><br />
        </form>
        <!-- har du været på nakke før slut -->
      </div>
    </div>
    <div class="flex items-center justify-center m-4">
      <Button id="openPopup" variant="secondary">Send din tilmelding</Button>
    </div>
  </div>
</section>

<!-- Popup -->
<div id="popup" class="hidden fixed inset-0 bg-white/60 flex justify-center items-center z-50">
  <div class="relative bg-pink border-2 border-darkblue rounded-xl px-8 py-10 max-w-xl w-full text-[#10005E] text-center shadow-xl">
    <h2 class="font-extrabold mb-6">Tak for din tilmelding!</h2>
    <p class="text-start">Vi er så glade for, at du vil være med til at skabe magien på <strong class="font-semibold">Nakkefestival.</strong></p>
    <p class="text-start">Vi vender snart tilbage på mail med info om de forskellige muligheder for at blive frivillig</p>

    <!-- Brug almindelig knap her i popup for at sikre det virker -->
    <button id="closePopup" class="mt-6 bg-darkblue text-white px-6 py-2 rounded-full text-lg hover:bg-blue-900 transition">
      Luk ned
    </button>

    <img src="solsikke.webp" alt="solsikke" class="absolute bottom-4 left-4 w-14 h-14" />
    <img src="solsikke.webp" alt="solsikke" class="absolute bottom-4 right-4 w-30 h-30" />
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const openBtn = document.getElementById("openPopup");
    const popup = document.getElementById("popup");
    const closeBtn = document.getElementById("closePopup");

    if (openBtn && popup && closeBtn) {
      openBtn.addEventListener("click", () => {
        popup.classList.remove("hidden");
      });

      closeBtn.addEventListener("click", () => {
        popup.classList.add("hidden");
      });
    } else {
      console.warn("Popup-elementer ikke fundet!");
    }
  });
</script>


